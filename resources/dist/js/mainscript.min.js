var weatherApp=angular.module("weatherApp",["ngRoute","ngResource"]);weatherApp.controller("forecastController",["$scope","$resource","$routeParams","cityService","weatherService",function(a,b,c,d,e){a.city=d.city,a.days=c.days||"2",a.weatherResult=e.getWeatherData(a.city,a.days),a.convertToCelsius=function(a){return(parseFloat(a)-273.15).toFixed(2)},a.convertToDate=function(a){return new Date(1e3*a)}}]),weatherApp.controller("homeController",["$scope","$location","cityService",function(a,b,c){a.city=c.city,a.$watch("city",function(){c.city=a.city}),a.submit=function(){b.path("/forecast")}}]),weatherApp.directive("searchPanel",function(){return{restrict:"E",replace:!0,templateUrl:"/resources/directive/search-panel.htm",scope:{weatherDay:"=",dateFormat:"@",convertToStandard:"&",convertToDate:"&"}}}),weatherApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"/resources/pages/home.htm",controller:"homeController"}).when("/forecast",{templateUrl:"/resources/pages/forecast.htm",controller:"forecastController"}).when("/forecast/:days",{templateUrl:"/resources/pages/forecast.htm",controller:"forecastController"})}]),weatherApp.service("cityService",function(){this.city="Bengaluru"}),weatherApp.service("weatherService",["$resource",function(a){this.getWeatherData=function(b,c){var d=a("http://api.openweathermap.org/data/2.5/forecast/daily?appid=0ab2f91e1fe8ad6cf7a8ccf799905c09",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});return d.get({q:b,cnt:c})}}]);